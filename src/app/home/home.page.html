<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>
      Shopping List
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Blank</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- <div class="container"> -->

  <h2>Add item on list</h2>

  <form [formGroup]="myForm" (ngSubmit)="CreateItem()">

    <ion-item>
      <ion-label position="floating">Insert new item</ion-label>
      <ion-input formControlName="name"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Insert Quantity</ion-label>
      <ion-input formControlName="quantity"></ion-input>
    </ion-item>

    <!-- <ion-item>
        <ion-label position="floating">Address</ion-label>
        <ion-input formControlName="Address"></ion-input>
      </ion-item> -->

    <ion-item>
      <ion-button (click)="CreateItem()" [disabled]="myForm.invalid">

        Add
      </ion-button>
    </ion-item>
  </form>

  <ion-card *ngFor="let item of shoppingList" color="primary">
    <span *ngIf="!item.isEdit; else elseBlock">
      <ion-card-header>
        <ion-card-title>{{title}}</ion-card-title>
      </ion-card-header>
      <ion-card-content>

        <ion-button shape="round" color="success" size="small" (click)="EditItem(item)">
          <ion-icon size="small" slot="icon-only" name="create"></ion-icon>

        </ion-button>
        <ion-button shape="round" color="danger" size="small" (click)="RemoveItem(item.id)">
          <ion-icon size="small" slot="icon-only" name="trash"></ion-icon>

        </ion-button>
      </ion-card-content>
    </span>

    <ng-template #elseBlock>
      <ion-card-header>
        <ion-card-title>
          <ion-grid>
            <ion-row>
              <ion-col>
                Edit
              </ion-col>

              <ion-col>
                <ion-button fill="solid" color="success" size="small" (click)="UpdateItem(item)">
                  Update
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-input type="text" placeholder="Insert new item" [(ngModel)]="item.Editname"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="text" placeholder="Insert quantity" [(ngModel)]="item.Editquantity"></ion-input>
        </ion-item>

      </ion-card-content>
    </ng-template>

  </ion-card>
  <div class="col-sm-offset-2 col-sm-10">
    <button type="submit" class="btn btn-default" color="primary" (click)="updateProduct()">Update</button>
  </div>
  </div>

  </div>
  </form>
</ion-content>